"use strict";$(function(){var t=$.cookie("carts")?$.cookie("carts"):"";console.log(t);var n,a=c(t);for(n in a){var i=a[n];$(".cartList").append('\n            <ul class="goodInfo" data-good-id="'.concat(n,'">\n            <li>\n                <img src="').concat(i.src,'" />\n                <span>').concat(i.name,"</span>\n            </li>\n            <li>").concat(i.price,'</li>\n            <li class="num">\n                <a href="javascript:;" class="minus">-</a>\n                <input type="text" name="" id="" value="').concat(i.num,'" />\n                <a href="javascript:;" class="plus">+</a>\n            </li>\n            <li class="total">').concat(i.price*i.num,'</li>\n            <li><a href="javascript:;" class="del">删除</a></li>\n        </ul>\n            ')),$(".minus").each(function(){$(this).click(function(){var n=$(".goodInfo").attr("data-good-id"),a=c($.cookie("carts")?$.cookie("carts"):"");0<a[n].num&&a[n].num--,$.cookie("carts",JSON.stringify(a),{expires:2,path:"/"}),$(this).next().val(a[n].num),$(this).parent().next().text(a[n].price*a[n].num)})}),$(".plus").each(function(){$(this).click(function(){var n=$(".goodInfo").attr("data-good-id"),a=c($.cookie("carts")?$.cookie("carts"):"");a[n].num++,$.cookie("carts",JSON.stringify(a),{expires:2,path:"/"}),$(this).prev().val(a[n].num),$(this).parent().next().text(a[n].price*a[n].num)})}),$(".num input").each(function(){$(this).blur(function(){var n=$(".goodInfo").attr("data-good-id"),a=c(t);/^\d+$/.test($(this).val())?a[n].num=$(this).val():(a[n].num=0,$.cookie("carts")&&$.cookie("carts")),$.cookie("carts",JSON.stringify(a),{expires:2,path:"/"}),$(this).val(a[n].num),$(this).parent().next().text(a[n].price*a[n].num)})}),$(".del").each(function(){$(this).click(function(){var n=$(".goodInfo").attr("data-good-id"),a=c(t);delete a[n],$.cookie("carts",JSON.stringify(a),{expires:2,path:"/"}),$(this).parents(".goodInfo").remove()})}),$(".pay").append('\n              <div class="container pay-cart">\n              <div class="pay-left">\n                  <a href="#">清空购物车</a>\n              </div>\n              <div class="pay-right">\n                  已选择<span>'.concat(i.num,"</span>件商品\n                  <span>合计(不含运费)：</span>\n                  <span>").concat(i.num*i.price,"</span>\n                  <span>去结算</span>\n              </div>\n          </div>\n              \n              "))}function c(n){return n?JSON.parse(n):{}}});